# Load Balancing
## 정의
  - 네트워크 트래픽 또는 작업 부하를 여러 서버 또는 네트워크 자원 간에 분산시키는 기술  
  - 서버의 부하를 분산하여 시스템 전체의 성능을 향상시키고 가용성을 높이는데 도움  
  
## 로드 밸런서
  - 주로 웹 서버, 데이터베이스 서버, 애플리케이션 서버 등과 같은 여러 서버 간의 트래픽을 분산하는데 사용
  - 각 서버에 대한 요청을 조절하여 각 서버가 균등하게 일하도록하거나 특정 서버로의 요청을 전송하는 역할
  
## L4 로드 밸런싱
  - 전송 계층에서 수행되는 로드 밸런싱
  - 주로 TCP/UDP 프로토콜에서 IP와 PORT 활용하여 서버에 들어오는 연결을 조절하고 분산시킴
### 주요기능
  - 부하분산
    - 여러 서버에 들어오는 연결을 균등하게 분배하여 각 서버가 일관된 부하 갖도록 유지하는 기
  - 고가용성 및 신뢰성 향상
    - 단일 서버의 장애가 전체 서비스에 영향을 미치는 것을 방지
    - 서비스의 가용성과 신뢰성을 향상
  - 성능 최적화
    - 서버의 성능 최적화
    - 사용자에게 빠르고 안정적인 서비스를 제공할 수 있도록 돕는다.
  - 스케일링
    - 증가하는 트래픽에 대응하기 위해 서버를 쉽게 확장할 수 있도록 돕는 기능  

## L7 로드 밸런싱 
  - 응용계층에서 수행되는 로드 밸런싱
  - 주로 HTTP/HTTPS 프로토콜을 기반으로 함
  - 애플리케이션 수준에서의 부하 분산을 담당함
  - 네트워크 트래픽 분석 및 사용자 요청 기반으로 서버로의 트래픽을 조절함
### 주요기능
  - HTTP/HTTPS 트래픽 관리
    - 웹 애플리케이션의 트래픽을 분석하고, 하용자 요청을 기반으로 서버의 트래픽 분산
  - 세션 유지
    - 사용자의 세션 정보를 유지
    - 동일한 사용자의 요청이 항상 동일한 서버로 라우팅되도록 한다.
  - 로드 밸런싱 알고리즘
    - 다양한 로드 밸런싱 알고리즘을 적용하여 서버 간 부하를 균등하게 분산시킨다.
  - SSL 오프로딩
    - HTTPS 트래픽의 경우 로드 밸런서에서 SSL/TLS 암호화 및 해독을 수행하여 서버 부하를 줄이고 성능을 향상시킨다.
  - 애플리케이션 계층 트래픽 조절
    - 요청의 콘텐츠 유형, URL경로, 헤더 등과 같은 애플리케이션 계층의 특성을 기반으로 트래픽 분산
   
## L4/L7 로드밸런싱의 차이
1. 로드 밸런싱의 기준
   - L4 : ip주소와 포트번호 기반으로 서버간 트래픽 분산
   - L7 : 응용 계층의 특정 정보를 분석하여 서버 선택에 영향을 미침
      - 세션 정보, 쿠키, HTTP메서드, URI등과 같은 응용 프로토콜의 데이터 활용
2. 트래픽 분산의 정확성
   - L4
     - 네트워크/트랜스포트 계층 정보를 기반으로 하기 때문에, 빠르고 효율적
     - 특정 응용 프로토콜에 대한 세부적인 부산이 어려울 수 있음
   - L7
     - 응용 계층의 데이터 기반으로 더 정교한 트래픽 분산이 가능
     - 특정 요청에 대한 세부적 판단 가능
3. 용도 및 복잡성
   - L4 : 서버 간 부하 분산이 팰요한 경우 사용
   - L7 : 복잡한 규칙 및 정책에 따라 트래픽 분산시키는데 적합
     
**[ L4/L7로드밸런싱에 관한 좋은 정리글 ]**  
https://aws-hyoh.tistory.com/entry/L4L7-%EB%A1%9C%EB%93%9C%EB%B0%B8%EB%9F%B0%EC%8B%B1-%EC%89%BD%EA%B2%8C-%EC%9D%B4%ED%95%B4%ED%95%98%EA%B8%B0
